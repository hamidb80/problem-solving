# آتاری

زهرا که در طول ترم حسابی درس خوانده، برای تفریح و تازه کردن روح و روان خود تصمیم میگیرد 
به تنهایی پا به جنگل بگذارد.

اون که بسیار ماجراجو است، سعی میکند به مناطق تاریک جنگل که کمتر کسی جرئت رفتن به آنجا دارد برود.

در میانه راه، چشمش به یک دستگاه آتاری میخورد.
پس بررسی متوجه میشود که این آتاری حداقل 60 سال قدمت دارد.

سعی میکند آن را روشن کند ولی از شانس بد او، 
موقع روشن شدن، دستگاه در 
Loading...
گیر میکند.

![زهرا آتاری بدست](./header.jpg)

اگر شما به جای او بودید، احتمالا دستگاه را دور می انداختید، ولی زهرا یک 
Geek
است و تا مشکل دستگاه را حل نکند، تسلیم نمیشود!

او دستگاه را به خانه میبرد تا عملیات مشکل یابی را شروع کند.

در خانه آتاری را باز کرده سعی میکند کد های
BIOS
آن را بخواند! شاید مشکل از این قسمت باشد؟

اون چنین کد هایی را مشاهده میکند:
```ruby
nop +0
acc +1
jmp +4
acc +3
jmp -3
acc -99
acc +1
jmp -4
acc +6
```

آنطور که به نظر میرسد، این یک کد اسمبلی خاص است که
تنها 3 نوع دستور دارد:

- `nop n` (No OPeration): هیچکاری نمیکند
- `acc n` (ACCumulate): تنها متغیر در برنامه را به اندازه n اضافه میکند
- `jmp n`: دستور به بالا یا پایین حرکت میکند `n` 

**توجه:**
مقدار متغیر آتاری هنگام روشن شدن برابر 
`0`
است


برای مثال، کد های اسمبلی بالا به این ترتیب اجرا میشوند: 
(
ترتیب اجرا کنار هر دستور بعد از کاراکتر 
`|` 
نوشته شده
)
```ruby
nop +0  | 1
acc +1  | 2, 8(!)
jmp +4  | 3
acc +3  | 6
jmp -3  | 7
acc -99 |
acc +1  | 4
jmp -4  | 5
acc +6  |
```

#### 1. `nop +0`  اول کار، دستور
کاری انجام نمیدهد و به بعد بعد میرود.

#### 2. `acc +1`
در خط بعد به متغیر مقدار 
`1`
اضافه میشود.

#### 3. `jmp +4`
بعد 4 دستور به پایین جهش میکند

#### 4. `acc +1`
مقدار متغیر
`2` 
میشود

#### 5. `jmp -4`
`4`
خط به بالا میرود

#### 6. `acc +3`
مقدار متغیر 
`5`
میشود

#### 7. `jmp -3`
`3`
خط به بالا میرود

در این مرحله، برنامه به خطی میرسد که قبلا آن را اجرا کرده
و در صورت ادامه اجرا، دوباره به این نقطه باز میگردد. 
(به اصطلاح در حلقه بینهایت گیر افتاده)


زهرا پس از بررسی های زیاد، به این نتیجه میرسد که احتمالا یکی از دستور های
`nop`
به دلیل رعد و برق، تبدیل به 
`jmp`
شده یا برعکس.
که اگر آن یک دستور اجرا شود، برنامه دیگر در حلقه بینهایت نمی افتد و پایان میابد.


برای مثال در قطعه کد زیر:

```ruby
nop +0
acc +1
jmp +4
acc +3
jmp -3
acc -99
acc +1
jmp -4
acc +6
```
اگر اولین دستور 
`nop +0`
را به 
`jmp +0`
تبدیل کنید، یک حلقه بینهایت اجرا میکند که فقط همین خط تکرار میشود.

اگر هر کدام از دستور های 
`jmp`
را به 
`nop`
تبدیل کنید، برنامه همچنان در حلقه بینهایت گیر می افتد.

ولی اگر دستور یکی به آخر را از 
`jmp -4`
به 
`nop -4`
تغییر دهید، برنامه با پایان میابد!
دستورات به این ترتیب اجرا میشوند:
```ruby
nop +0  | 1
acc +1  | 2
jmp +4  | 3
acc +3  |
jmp -3  |
acc -99 |
acc +1  | 4
nop -4  | 5
acc +6  | 6
```
بعد از آخرین دستور
(`acc +6`)
برنامه با مقدار متغیر 
`8`
تمام میشود.

(
این مقدار توسط دستور های 
`acc +1` و `acc +1` و `acc +6`
تولید شده
)

-----------
به زهرا کمک کنید تا دستور مشکل دار را پیدا و آن را اصلاح کند.

بعد از اجرای برنامه اصلاح شده، مقدار متغیر چند خواهد شد؟
